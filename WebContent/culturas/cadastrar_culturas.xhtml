<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:t="http://java.sun.com/jsf/core">

<h:body>

	<ui:composition template="/dashboard/common.xhtml">

		<ui:define name="content">
			<h:form>
				<div class="content-wrapper">

					<div class="container-fluid">

						<p:messages />
						<!-- Example Tables Card -->
						<div class="card mb-3">
							<div class="card-header">
								<i class="fa fa-table"></i> Cadastro de Culturas

							</div>

							<div class="card-footer small text-muted">
								<div class="form-group">
									<label class="control-label col-sm-2">Nome da Cultura</label>
									<div class="col-sm-10">
										<h:inputText class="form-control"
											value="#{culturaBean.cultura.nome}" />

									</div>
								</div>
								<div class="form-group">
									<label class="control-label col-sm-7"> Selecione as
										Pragas que afetam esta Cultura: </label>
									<h:form id="formPraga">

										<p:growl id="msg" showDetail="true" escape="false" />

										<p:dataTable id="checkboxDT" var="pragasLista"
											value="#{culturaBean.allPragas}"
											selection="#{culturaBean.selectedPragas}"
											rowKey="#{pragasLista.pragaId}"
											style="margin-left: 16px; margin-bottom:0" styleClass="table">

											<p:column selectionMode="multiple"
												style="width:16px;text-align:center" />
											<p:column headerText="Id" style="width:20px;">
												<h:outputText value="#{pragasLista.pragaId}" />
											</p:column>
											<p:column headerText="Nome" style="width:230px;">
												<h:outputText value="#{pragasLista.nome}" />
											</p:column>

										</p:dataTable>
										<br />
									</h:form>
								</div>


								<div class="form-group">
									<label class="control-label col-sm-2">Área de Plantio
										(m<sup>2</sup>)
									</label>

									<div class="col-sm-5">
										<h:inputText class="form-control"
											value="#{culturaBean.cultura.areaPlantio}"
											onkeyup="somenteNumeros(this);" />
									</div>

								</div>

								<div class="form-group">
									<label class="control-label col-sm-2">Período do
										Plantio</label>
									<div class="col-sm-5">
										<p:inputMask id="date" mask="99/99/9999"
											value="#{culturaBean.cultura.periodoPlantio}">
											<f:convertDateTime pattern="dd/MM/yyyy" />
										</p:inputMask>
									</div>
								</div>

								<div class="form-group">
									<label class="control-label col-sm-2">Período da
										Colheita</label>
									<div class="col-sm-5">
										<p:inputMask id="date2" mask="99/99/9999"
											value="#{culturaBean.cultura.periodoColheita}">
											<f:convertDateTime pattern="dd/MM/yyyy" />
										</p:inputMask>
									</div>
								</div>

								<div class="form-group">
									<label class="control-label col-sm-2">Descrição</label>
									<div class="col-sm-10">
										<h:inputTextarea class="form-control" cols="30" rows="3"
											value="#{culturaBean.cultura.descricao}" />
									</div>
								</div>

								<div class="form-group">
									<label class="control-label col-sm-2">Observações</label>
									<div class="col-sm-10">
										<h:inputTextarea class="form-control" cols="30" rows="3"
											value="#{culturaBean.cultura.obs}" />
									</div>
								</div>
								<hr />

								<div class="form-group">
									<div class="col-sm-offset-2 col-sm-10">
										<h:commandLink action="#{culturaBean.salvar()}"
											value="Confirmar" class="btn btn-default"
											style="background-color: green; color:white; margin-right:5px" />
										<h:commandLink action="culturas" value="Cancelar"
											class="btn btn-default"
											style="background-color: red; color:white;" />

									</div>
								</div>
							</div>
						</div>

					</div>
					<!-- /.container-fluid -->

				</div>
				<!-- /.content-wrapper -->
			</h:form>

			<script>
				function somenteNumeros(num) {
					var er = /[^0-9.]/;
					er.lastIndex = 0;
					var campo = num;
					if (er.test(campo.value)) {
						campo.value = "";
					}
				}
			</script>
		</ui:define>

	</ui:composition>

</h:body>
</html>
